// Code generated by apigen; DO NOT EDIT.
{{ $server := .Server -}}
{{ $groups := .Server.API.Groups -}}
package {{ $server.GoPackage }}

import (
	"net/http"

	"github.com/gorilla/mux"

    "{{ $server.GoModule }}/api"
    "{{ $server.GoModule }}/auth/user"
)

type Handler struct {
{{ range $group := $groups -}}
	{{ $group.Name }} {{ $group.Name }}
{{ end -}}
}

{{ range $group := $groups }}
type {{ $group.Name }} interface {
{{ range $route := $group.Routes -}}
	{{ $route.Name }}(ctx api.Context
		{{- if $route.Authenticated}}, user api.User{{end -}}
		{{- with $route.Params}}, params {{.}}{{end -}}
		{{- with $route.Body}}, body {{.}}{{end -}}
			) ({{ $route.Return }}, error)
{{ end }}
}
{{ end }}

func Register(srv *api.Server, h Handler) *mux.Router {
	r := mux.NewRouter()

	{{ range $group := $groups -}}
		{{ range $route := $group.Routes -}}
		{{ template "handler.go.tmpl" $route }}
		{{ end }}
	{{ end }}

	return r
}
